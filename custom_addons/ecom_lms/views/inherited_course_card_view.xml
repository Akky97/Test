<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

    <template id="inherited_course_card_template" inherit_id="website_slides.course_card">
            <xpath expr="//a[@t-attf-href='/slides/#{slug(channel)}']" position="after">
                <div class="o_dropdown_kanban dropdown">
                    <a role="button" class="dropdown-toggle o-no-caret btn" data-toggle="dropdown" style="float:right !important;" href="#" aria-label="Dropdown menu" title="Dropdown menu">
                        <span class="fa fa-ellipsis-v" aria-hidden="false"/>
                    </a>
                    <div style="margin-left:-65% !important;" class="dropdown-menu" role="menu">
                        <div>
                            <a type="button" class="dropdown-item" t-attf-href="/recommendation/#{slug(channel)}">
                                Recommend
                            </a>
                        </div>
                    </div>
                </div>

            </xpath>
            
            <xpath expr="//div[@class='card-footer bg-white text-600 px-3']" position="replace">
                <div class="card-footer bg-white text-600 px-3">
                    <div class="justify-content-between align-items-center">
                        <small t-if="channel.total_time" class="font-weight-bold">Total Time: </small><small t-if="channel.total_time" class="font-weight-bold" t-esc="channel.total_time" t-options="{'widget': 'duration', 'unit': 'hour', 'round': 'minute'}"/>
                    </div>
                    <div t-if="channel.sudo().channel_partner_ids">
                        <div t-foreach="channel.sudo().channel_partner_ids" t-as="channel_attendee">
                                <div t-if="request.env.user.partner_id == channel_attendee.partner_id">
                                    <t t-if="channel_attendee.completion != 0 and channel_attendee.completion != 100">
                                        <t t-if="channel_attendee.time_left">
                                            <small class="font-weight-bold">Time Left : </small><small class="font-weight-bold" t-esc="channel_attendee.time_left" t-options="{'widget': 'duration', 'unit': 'hour', 'round': 'minute'}"></small>

                                        </t>
                                    </t>
                                </div>
                            </div>
                        </div>
                        <div class="flex-grow-1 justify-content-end" style="display: flex;margin-top: 8px;">
                                <t t-if="channel.is_member and channel.completed">
                                    <span class="badge badge-pill badge-success pull-right py-1 px-2"><i class="fa fa-check"/> Completed</span>
                                </t>

                            <t  t-elif="channel.is_member and channel.channel_type != 'documentation'">
                            <div class="progress flex-grow-1 bg-black-50 rounded" style="height:6px;">
                                <div class="progress-bar" role="progressbar" t-attf-style="width: #{channel.completion}%" t-att-aria-valuenow="channel.completion" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            <div class="ml-3 small" style="margin-top: -6px;" >
                                <span class="o_wslides_progress_percentage" t-esc="channel.completion"/> %
                            </div>

                        </t>

                                <small t-else=""><b t-esc="channel.total_slides"/> steps</small>
                        </div>
                        <div t-if="channel.allow_comment"
                         class="col-12 col-md d-flex align-items-start justify-content-md-end mb-2 mb-md-0">
                            <div class="text-muted border-left pl-3">
                                <div class="o_wslides_js_slide_like mr-2">
                                    <span>
                                        <t t-set="path" t-value="request.httprequest.path"/>
                                        <div t-if="channel.sudo().channel_partner_ids">
                                            <t t-set="count" t-value="0"/>
                                            <div t-foreach="channel.sudo().channel_partner_ids" t-as="attendee">
                                                <div t-if="request.env.user.partner_id == attendee.partner_id">
                                                    <t t-set="count" t-value="1"/>
                                                </div>
                                            </div>
                                            <div t-if="count == 0">
                                                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                    <div class="modal-dialog" role="document">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h4 class="modal-title" style="color:black;" id="exampleModalLabel">Course Alert</h4>
                                                            </div>
                                                        <div class="modal-body">
                                                            <h5>
                                                                <strong>Course Enrollment is required to Like/Dislike any course.</strong>
                                                            </h5>
                                                        </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <span>
                                                    <a type="button" class="fa fa-thumbs-up" t-attf-href="#" data-toggle="modal" data-target="#exampleModal"/>
                                                        <span t-esc="channel.likes"/>
                                                    <a type="button" class="fa fa-thumbs-down" t-attf-href="#" data-toggle="modal" data-target="#exampleModal"/>
                                                        <span t-esc="channel.dislikes"/>
                                                </span>
                                            </div>
                                            <div t-foreach="channel.sudo().channel_partner_ids" t-as="attend_partner">
                                                <div t-if="request.env.user.partner_id == attend_partner.partner_id">
                                                    <div t-if="attend_partner.not_liked_disliked">
                                                        <span>
                                                            <a type="button" class="fa fa-thumbs-o-up" t-attf-href="/count/like/#{slug(channel)}?ref=#{path}" role="img" aria-label="Likes" title="Likes"></a>
                                                            <span t-esc="channel.likes"/>
                                                            <a type="button" class="fa fa-thumbs-o-down" t-attf-href="/count/dislike/#{slug(channel)}?ref=#{path}" role="img" aria-label="Dislikes" title="Dislikes"></a>
                                                            <span t-esc="channel.dislikes"/>
                                                        </span>
                                                    </div>
                                                    <div t-if="attend_partner.channel_liked">
                                                        <span>
                                                            <a type="button" class="fa fa-thumbs-up" t-attf-href="#" role="img" aria-label="Likes" title="Likes"></a>
                                                            <span t-esc="channel.likes"/>
                                                            <a type="button" class="fa fa-thumbs-o-down" t-attf-href="/count/dislike/#{slug(channel)}?ref=#{path}" role="img" aria-label="Disikes" title="Disikes"></a>
                                                            <span t-esc="channel.dislikes"/>
                                                        </span>
                                                    </div>
                                                    <div t-if="attend_partner.channel_disliked">
                                                        <span>
                                                            <a type="button" class="fa fa-thumbs-o-up" t-attf-href="/count/like/#{slug(channel)}?ref=#{path}" role="img" aria-label="Likes" title="Likes"></a>
                                                            <span t-esc="channel.likes"/>
                                                            <a type="button" class="fa fa-thumbs-down" t-attf-href="#" role="img" aria-label="Disikes" title="Disikes"></a>
                                                            <span t-esc="channel.dislikes"/>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div t-else="">
                                            <span>
                                                <a type="button" class="fa fa-thumbs-up" t-attf-href="#" data-toggle="modal" data-target="#exampleModal"/>
                                                    <span t-esc="channel.likes"/>
                                                <a type="button" class="fa fa-thumbs-down" t-attf-href="#" data-toggle="modal" data-target="#exampleModal"/>
                                                    <span t-esc="channel.dislikes"/>
                                            </span>
                                        </div>
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
           </xpath>
	            
	            
            <!-- <xpath expr="//div[@class='card-footer bg-white text-600 px-3']" position="inside">
            	<div t-if="channel.channel_partner_ids">
            	<div t-foreach="channel.channel_partner_ids" t-as="channel_attendee">
                        <div t-if="request.env.user.partner_id == channel_attendee.partner_id">
                        	<t t-if="channel_attendee.completion != 0 and channel_attendee.completion != 100">
                        		<t t-if="channel_attendee.time_left">
                   					<small class="font-weight-bold" t-esc="channel_attendee.time_left" t-options="{'widget': 'duration', 'unit': 'hour', 'round': 'minute'}"></small><small class="font-weight-bold"> Left</small>
               				
            					</t>
           					</t>
               			</div>
            		</div>
           		</div>
                <div t-if="channel.allow_comment"
                     class="col-12 col-md d-flex align-items-start justify-content-md-end mb-2 mb-md-0">
                    <div class="text-muted border-left pl-3">
                        <div class="o_wslides_js_slide_like mr-2">
                            <span>
                                <t t-set="path" t-value="request.httprequest.path"/>
                                <div t-if="channel.channel_partner_ids">
                                    <t t-set="count" t-value="0"/>
                                    <div t-foreach="channel.channel_partner_ids" t-as="attendee">
                                        <div t-if="request.env.user.partner_id == attendee.partner_id">
                                            <t t-set="count" t-value="1"/>
                                        </div>
                                    </div>
                                    <div t-if="count == 0">
                                        <span>
                                            <a type="button" class="fa fa-thumbs-up" t-attf-href="#" role="img" aria-label="Likes" title="Likes"></a>
                                            <span t-esc="channel.likes"/>
                                            <a type="button" class="fa fa-thumbs-down" t-attf-href="#" role="img" aria-label="Disikes" title="Disikes"></a>
                                            <span t-esc="channel.dislikes"/>
                                        </span>
                                    </div>
                                    <div t-foreach="channel.channel_partner_ids" t-as="attend_partner">
                                        <div t-if="request.env.user.partner_id == attend_partner.partner_id">
                                            <div t-if="attend_partner.not_liked_disliked">
                                                <span>
                                                    <a type="button" class="fa fa-thumbs-o-up" t-attf-href="/count/like/#{slug(channel)}?ref=#{path}" role="img" aria-label="Likes" title="Likes"></a>
                                                    <span t-esc="channel.likes"/>
                                                    <a type="button" class="fa fa-thumbs-o-down" t-attf-href="/count/dislike/#{slug(channel)}?ref=#{path}" role="img" aria-label="Dislikes" title="Dislikes"></a>
                                                    <span t-esc="channel.dislikes"/>
                                                </span>
                                            </div>
                                            <div t-if="attend_partner.channel_liked">
                                                <span>
                                                    <a type="button" class="fa fa-thumbs-up" t-attf-href="#" role="img" aria-label="Likes" title="Likes"></a>
                                                    <span t-esc="channel.likes"/>
                                                    <a type="button" class="fa fa-thumbs-o-down" t-attf-href="/count/dislike/#{slug(channel)}?ref=#{path}" role="img" aria-label="Disikes" title="Disikes"></a>
                                                    <span t-esc="channel.dislikes"/>
                                                </span>
                                            </div>
                                            <div t-if="attend_partner.channel_disliked">
                                                <span>
                                                    <a type="button" class="fa fa-thumbs-o-up" t-attf-href="/count/like/#{slug(channel)}?ref=#{path}" role="img" aria-label="Likes" title="Likes"></a>
                                                    <span t-esc="channel.likes"/>
                                                    <a type="button" class="fa fa-thumbs-down" t-attf-href="#" role="img" aria-label="Disikes" title="Disikes"></a>
                                                    <span t-esc="channel.dislikes"/>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div t-else="">
                                    <span>
                                        <a type="button" class="fa fa-thumbs-up" t-attf-href="#" role="img" aria-label="Likes" title="Likes"></a>
                                        <span t-esc="channel.likes"/>
                                        <a type="button" class="fa fa-thumbs-down" t-attf-href="#" role="img" aria-label="Disikes" title="Disikes"></a>
                                        <span t-esc="channel.dislikes"/>
                                    </span>
                                </div>
                            </span>
                        </div>
                    </div>
                </div>
            </xpath>  -->
    </template>

    </data>
</odoo>