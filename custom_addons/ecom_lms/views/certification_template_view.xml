<?xml version="1.0" ?>
<odoo><data>


<template id="question_multiple_choice_ecom" inherit_id="survey.question_multiple_choice" name="Question: multiple choice ECOM">
	<xpath expr="//div[1]" position="replace">
		<div class="row o_survey_form_choice o_survey_question_multiple_choice"
             t-att-data-name="question.id"
             t-att-data-question-type="question.custom_question_type">
            <t t-set="item_idx" t-value="0"/>
            <div class="d-flex flex-wrap col-lg-12">
                <t t-set="has_correct_answer" t-value="scoring_display_correction and any(label.is_correct for label in question.suggested_answer_ids)"/>
                <t t-foreach='question.suggested_answer_ids' t-as='label'>
                    <t t-set="item_idx" t-value="label_index"/>
                    <t t-set="answer_line" t-value="answer_lines.filtered(lambda line: line.suggested_answer_id == label)"/>
                    <t t-set="answer_selected" t-value="answer_line and answer_line.suggested_answer_id.id == label.id"/>
                    <t t-set="is_correct" t-value="label.answer_score > 0.0"/>

                    <!--Used for print mode with corrections -->
                    <t t-set="answer_class" t-if="not has_correct_answer" t-value="''" />
                    <t t-set="answer_class" t-elif="is_correct" t-value="'bg-success'" />
                    <t t-set="answer_class" t-elif="not is_correct" t-value="'bg-danger'" />

                    <label t-att-class="'o_survey_choice_btn mr-2 py-1 px-3 rounded %s %s' % (answer_class, 'o_survey_selected' if answer_line else '')">
                        <t t-call="survey.survey_selection_key">
                            <t t-set="selection_key_class" t-value="'position-relative float-left d-flex'"/>
                        </t>
                        <input type="checkbox" t-att-value='label.id' class="o_survey_form_choice_item invisible position-absolute"
                               t-att-name="question.id"
                               t-att-checked="'checked' if answer_line else None"
                               t-att-data-selection-key="letters[item_idx] if useKeySelection else ''"/>
                        <span class="ml-2" t-field='label.value'/>
                        <i class="fa fa-check-square float-right mt-1 position-relative"></i>
                        <i class="fa fa-square-o float-right mt-1 position-relative"></i>
                        <t t-call="survey.question_suggested_value_image"/>
                    </label>
                </t>
            </div>
            <div t-if='question.comments_allowed and question.comment_count_as_answer' class="js_ck_comments col-lg-12" >
                <div class="d-flex flex-wrap">
                    <label t-att-class="'o_survey_choice_btn mr-2 py-1 px-3 rounded %s' % ('o_survey_selected' if comment_line else '')">
                        <t t-set="item_idx" t-value="item_idx + 1"/>
                        <t t-call="survey.survey_selection_key">
                            <t t-set="selection_key_class" t-value="'position-relative float-left d-flex'"/>
                        </t>
                        <input type="checkbox" class="o_survey_form_choice_item o_survey_js_form_other_comment invisible position-absolute" value="-1"
                               t-att-name="question.id"
                               t-att-checked="comment_line and 'checked' or None"
                               t-att-data-selection-key="letters[item_idx] if useKeySelection else ''"/>
                        <span class="ml-2" t-field="question.comments_message" />
                        <i class="fa fa-check-square float-right mt-1 position-relative"></i>
                        <i class="fa fa-square-o float-right mt-1 position-relative"></i>
                    </label>
                </div>
                <div t-attf-class="o_survey_comment_container mt-3 py-0 px-1 #{'d-none' if not comment_line else ''}">
                    <textarea type="text" class="form-control o_survey_question_text_box bg-transparent text-dark rounded-0 p-0"
                              t-att-disabled="None if comment_line else 'disabled'"><t t-esc="comment_line.value_char_box if comment_line else ''"/></textarea>
                </div>
            </div>
            <div t-if='question.comments_allowed and not question.comment_count_as_answer' class="col-lg-12 o_survey_comment_container mx-1 mt-3 py-0 pl-3 pr-4">
                <textarea type="text" class="form-control o_survey_comment o_survey_question_text_box bg-transparent text-dark rounded-0 p-0"
                          t-att-placeholder="question.comments_message if not survey_form_readonly else ''"><t t-esc="comment_line.value_char_box if comment_line else ''"/></textarea>
            </div>
        </div>
       </xpath>
    </template>


<template id="question_container_ecom" inherit_id="survey.question_container" name="Survey: question container">
	<xpath expr="//div[1]" position="replace">
		<div t-att-class="'js_question-wrapper pb-4 %s %s' % ('d-none' if not display_question else '', 'mr-2' if extra_right_margin else '')"
             t-att-id="question.id" t-att-data-required="question.constr_mandatory"
             t-att-data-constr-error-msg="question.constr_error_msg"
             t-att-data-validation-error-msg="question.validation_error_msg">
            <div class="mb-4">
                <h3 t-if="not hide_question_title">
                    <span t-field='question.title' />
                    <span t-if="question.constr_mandatory" class="text-danger">*</span>
                </h3>
                <div t-if="not is_html_empty(question.description)" t-field='question.description' class="text-muted oe_no_empty mt-1"/>
            </div>
            <t t-if="question.custom_question_type == 'text_box'"><t t-call="survey.question_text_box"/></t>
            <t t-if="question.custom_question_type == 'char_box'"><t t-call="survey.question_char_box"/></t>
            <t t-if="question.custom_question_type == 'numerical_box'"><t t-call="survey.question_numerical_box"/></t>
            <!-- <t t-if="question.question_type == 'date'"><t t-call="survey.question_date"/></t>
            <t t-if="question.question_type == 'datetime'"><t t-call="survey.question_datetime"/></t> -->
            <t t-if="question.custom_question_type == 'simple_choice'"><t t-call="survey.question_simple_choice"/></t>
            <t t-if="question.custom_question_type == 'multiple_choice'"><t t-call="survey.question_multiple_choice"/></t>
            <!-- <t t-if="question.question_type == 'matrix'"><t t-call="survey.question_matrix"/></t> -->
            <div class="o_survey_question_error overflow-hidden border-0 py-0 px-3 alert alert-danger" role="alert"></div>
        </div>

	<!-- <xpath expr="//div[@hasclass='js_question-wrapper']" position="replace"> -->
       </xpath>
    </template>

    <template id="digital_signature_ecom" inherit_id="survey.certification_report_view_modern">
       <xpath expr="//div[@class='certification-seal']" position="replace">
             <div class="certification-seal">
                                <img src="/survey/static/src/img/certification_seal.svg" alt="Certification Seal" role="image"/>
             <div style="width:188px !important; height:44px !important;" class="html" t-field="user_input.survey_id.signature_tem"/>
             </div>
        </xpath>
    </template>


	<template id="ecom_survey_template_default">
		<t t-call="portal.portal_layout">
		<body data-spy="scroll" data-target=".navspy" data-offset="50">
			<div class="container o_portal_sidebar">
				<div class="row mt16 o_portal_sale_sidebar">
			            <t t-call="portal.portal_record_sidebar">
			                    <t t-set="classes" t-value="'col-lg-auto d-print-none'"/>
			
			                    <t t-set="title">
			                        <h2 class="mb-0"><span t-field="user_input.survey_id.display_name"/></h2>
			                    </t>
			                    <t t-set="entries">
			                        <ul class="list-group list-group-flush flex-wrap flex-row flex-lg-column">
			                            <li class="list-group-item flex-grow-1">
			                            	<div>You scored <t t-esc="user_input.scoring_percentage" />%</div>
			                            	<t t-if="user_input.scoring_success">
                                				<div>Congratulations, you have passed the test!</div>
			                            	
				                            	<a role="button"
			                                        class="btn btn-primary btn-lg"
			                                        t-att-href="'/survey/%s/get_certification' % user_input.survey_id.id">
			                                        <i class="fa fa-fw fa-trophy" role="img" aria-label="Download certification" title="Download certification"/>
			                                        Download certification
			                                    </a>
		                                    </t>
		                                    <t t-else="">
				                                <div>Unfortunately, you have failed the test.</div>
				                            </t>
				                            <br/>
				                             <br/>
				                            <!-- <div>Share on Social Media</div> -->
				                            <h5 class="mt-0 mb-2">Share Link on Social Media</h5>
							                <!-- <div class="input-group">
							                    <input type="text" class="form-control o_wslides_js_share_link" t-att-value="request.httprequest.url" readonly="readonly" onClick="this.select();" />
							                    <div class="input-group-append">
							                        <button class="btn btn-sm btn-primary o_clipboard_button" style="border-top-right-radius: 4px;border-bottom-right-radius: 4px;" >
							                            <span class="fa fa-clipboard"> Copy Link</span>
							                        </button>
							                    </div>
							                </div> -->
				                            <!-- <span t-esc="request.httprequest.url"/> -->
				                            <a t-attf-href="https://www.facebook.com/sharer/sharer.php?u=#{request.httprequest.url}" class="btn border bg-white o_wslides_js_social_share" social-key="facebook" aria-label="Share on Facebook" title="Share on Facebook"><i class="fa fa-facebook-square fa-fw"/></a>
						                    <a t-attf-href="https://twitter.com/intent/tweet?text=#{user_input.survey_id.title}&amp;url=#{request.httprequest.url}" class="btn border bg-white o_wslides_js_social_share"  social-key="twitter" aria-label="Share on Twitter" title="Share on Twitter"><i class="fa fa-twitter fa-fw"/></a> 
						                    <a t-attf-href="http://www.linkedin.com/sharing/share-offsite/?url=#{request.httprequest.url}" social-key="linkedin" class="btn border bg-white o_wslides_js_social_share" aria-label="Share on LinkedIn" title="Share on LinkedIn"><i class="fa fa-linkedin fa-fw"/></a> 
				                            <!-- <span t-field="user_input.slide_id.channel_id.id"/> -->
				                            <!-- <button role="button" class="btn text-white pl-0" title="Share Certificate"
		                                        aria-label="Share Certificate"
		                                        data-toggle="modal" t-att-data-target="'#slideChannelShareModal_%s' % user_input.slide_id.channel_id.id">
		                                        <i class="fa fa-share-square"></i> Share
		                                    </button>  -->
			                            </li>
			
			                        </ul>
			                    </t>
			                </t>
			            
			            
			            <div id="quote_content" class="col-12 col-lg justify-content-end">


                        <div class="modal-dialog">
                            <div class="modal-content">
                                <header class="modal-header">
                                	<div class="certification-company-wrapper" t-field="user_input.survey_id.create_uid.company_id.logo" t-options="{'widget': 'image'}" role="img"/> 
                                    <!-- <br/> -->
                                    <!-- <h4 class="modal-title"><span t-field="user_input.survey_id.display_name"/></h4> -->
                                    <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close">Ã—</button> -->
                                </header>
                                <main class="modal-body" id="sign-dialog">
                                    <p>
                                    	<h4 class="modal-title"><span t-field="user_input.survey_id.display_name"/></h4>
                                        <span>This Certificate is Presented to:</span><br/>
<!--                                       <b><span t-esc="user_input.partner_id.name or user_input.email"/></b> <br/><br/>-->
                                       <b><span t-esc="request.env.user.partner_id.name"/></b> <br/><br/>

                                       <span t-field="user_input.survey_id.create_uid.company_id.display_name"/> is proud to award this certificate to
                                		<b><span t-esc="request.env.user.partner_id.name"/> for graduating <span t-field="user_input.survey_id.display_name"/></b>
                                       
                                       <br/>
                                       
                                       <h5>Date</h5>
                                	   <h5 t-field="user_input.create_date" t-options='{"widget": "date"}'/>
                                	   
                                	   <br/>
                                	   
                                	   <img src="/survey/static/src/img/certification_seal.svg" alt="Certification Seal" role="image"/>
                                        <!-- <ul>
                                            <li><span t-field="user_input.survey_id.display_name"/></li>
                                            <li><span>For an amount of:</span> </li>
                                        </ul> -->
                                    </p>
                                    <!-- <div  id="payment_method" class="text-left">
                                        <h3 class="mb24">Pay with</h3>
                                    </div> -->
                                </main>
                            </div>
                        </div>
                    </div>
			            
	           </div> 
		           </div>
		           <div class="oe_structure mb32" id="oe_structure_portal_sidebar_1"/>
	           </body>
           </t>
        </template>


	<!-- <template id="ecom_survey_template_default">
            <field name="name">Default Template</field>
            <field name="number_of_days">30</field>

            <field name="website_description" type="xml">
                <div id="o_survey_certification" t-att-data-oe-model="user_input._name" t-att-data-oe-id="user_input.id" t-att-class="'article certification-wrapper modern %s' % layout_color">
                <div class="certification">
                    <div t-if="user_input.test_entry" class="test-entry"/>
                    <div class="certification-top">
                        <div class="certification-bg-dark">
                            <div class="certification-company-wrapper" t-field="user_input.survey_id.create_uid.company_id.logo" t-options="{'widget': 'image'}" role="img"/>
                        </div>
                        <div class="certification-name" t-field="user_input.survey_id.display_name"/>
                    </div>

                    <div class="certification-bottom">
                        <div t-if="user_input.scoring_success">
                            <h5 class="user-name-label">This Certificate is Presented to</h5>
                            <div class="user-name" t-esc="user_input.partner_id.name or user_input.email"/>

                            <div class="certification-description">
                                <span t-field="user_input.survey_id.create_uid.company_id.display_name"/> is proud to award this certificate to
                                <span t-esc="user_input.partner_id.name or user_input.email"/> for graduating <span t-field="user_input.survey_id.display_name"/>.
                            </div>
                        </div>
                        <div t-else="">
                            <h5>Certification Failed</h5>
                        </div>

                        <div class="certification-bottom-group">
                            <div class="certification-bg-dark"/>
                            <div class="certification-date">
                                <h5>Date</h5>
                                <h5 t-field="user_input.create_date" t-options='{"widget": "date"}'/>
                            </div>
                            <div class="certification-seal">
                                <img src="/survey/static/src/img/certification_seal.svg" alt="Certification Seal" role="image"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </template> -->
	
		
		
		
		<template id="certification_template_main" name="Certification Portal Main" >
		        <t t-call="portal.portal_layout">
		            <t t-set="breadcrumbs_searchbar" t-value="True"/>
		
		            <t t-call="portal.portal_searchbar">
		                <t t-set="title">Certifications</t>
		            </t>
		            <t t-if="not certification_details">
		                <p>There are currently no certification for your account.</p>
		            </t>
		            <t t-if="certification_details" t-call="portal.portal_table">
		                <thead>
		                    <tr class="active">
		                        <th>
		                            <span class='d-none d-md-inline'>Certification #</span>
		                            <!-- <span class='d-block d-md-none'>Ref.</span> -->
		                        </th>
		                       <!--  <th class="text-right">Order Date</th>
		                        <th class="text-center"/>
		                        <th class="text-right">Total</th> -->
		                    </tr>
		                </thead>
		                <t t-foreach="certification_details" t-as="certification">
		                    <tr>
		                    	<td><a class="card-title h5 mb-2 o_wslides_desc_truncate_2" t-attf-href="/certification/#{slug(certification)}" t-esc="certification.title"/></td> 
		                        <!-- <td><a t-att-href="certification.get_portal_url(report_type='pdf', download=False)"><t t-esc="certification.title"/></a></td> -->
		                        
		                        
		                        <!-- <td class="text-right">
		                            <span t-field="order.date_order" t-options="{'widget': 'date'}"/>&amp;nbsp;
		                            <span class='d-none d-md-inline' t-field="order.date_order" t-options="{'time_only': True}"/>
		                        </td>
		                        <td class="text-center">
		                            <span t-if="order.state == 'done'"  class="badge badge-pill badge-success">
		                                <i class="fa fa-fw fa-check" role="img" aria-label="Done" title="Done"/>Done
		                            </span>
		                        </td> -->
		                        <!-- <td class="text-right"><span t-field="certification.title"/></td> -->
		                    </tr>
		                </t>
		            </t>
		        </t>
		    </template>


	</data>
</odoo>